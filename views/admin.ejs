<%= __('') %>
<%- include('layouts/header.ejs') %>

<head> 
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/admin.css">
</head> 
<div class="admin-container">
    <div class="admin-content">
        <table id="usersTable">     
            <thead>
                <tr>
                    <th><%= __('Name') %></th>
                    <th><%= __('Email')%></th>
                    <th><%= __('Role') %></th>
                    <th><%= __('Action') %></th>
                </tr>
            </thead>
            <tbody>
                <% for (let i=0; i < users.length; i ++) { %>
                <tr>
                    <td> <%= users[i]['name'] %> </td>
                    <td> <%= users[i]['email'] %> </td>
                    <td> <%= users[i]['role'] %> </td>
                    <td><button class="editUserBtn" data-user-id="<%= users[i]._id %>"><%= __('Edit') %></button></td>
                </tr>
                <% } %>
            </tbody>
        </table>
        <!-- modal -->
        <div id="editUserModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2><%= __('Edit User') %></h2>
                <form id="editUserForm", enctype="multipart/form-data">
                    <!-- Edit user form fields -->
                    <input type="hidden" id="userId" name="userId">
                    <label for="userName"><%= __('Name') %>:</label>
                    <input type="text" id="userName" name="name" required><br><br>
                    <label for="userEmail"><%= __('Email') %>:</label>
                    <input type="email" id="userEmail" name="email" required><br><br>
                    <label for="userRole"><%= __('Role') %>:</label>
                    <select id="userRole" name="role" required>
                        <option value="user"><%= __('User') %></option>
                        <option value="admin"><%= __('Admin') %></option>
                    </select><br><br>
                    <button class="Userbtn" type="submit"><%= __('Update') %></button>
                    <button class="Userbtn" id="deleteUserBtn" type="button"><%= __('Delete') %></button>
                </form>
            </div>
        </div>
        <script src="js/edit-user.js"></script>
    </div>
</div>
<%- include('layouts/footer.ejs') %>
